var a=Object.defineProperty,s=Object.defineProperties,e=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(s,e,r)=>e in s?a(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;import{g as i,u as n,U as d,r as c,c as m,a0 as p,e as u,f as b,h as w,j as f,a1 as y,a2 as h,a3 as v,a4 as g,n as x,w as P,t as k,m as j,Y as O,a5 as N,a6 as q,p as E,k as S}from"./vendor.9979cc4f.js";import{_ as U,L as V}from"./index.84782c79.js";import{i as L}from"./isValidEmail.d4801c25.js";const C={name:"SignUp",components:{Loading:V},setup(){const a=i(),u=n(),b=d({email:"",displayName:"",password:"",cpassword:""}),w=c(!1),f=c(""),y=m((()=>!(b.cpassword.length>0)||b.password===b.cpassword)),h=m((()=>!(b.email.length>1)||L(b.email)));return v=((a,s)=>{for(var e in s||(s={}))l.call(s,e)&&t(a,e,s[e]);if(r)for(var e of r(s))o.call(s,e)&&t(a,e,s[e]);return a})({},p(b)),s(v,e({equalPassword:y,validEmail:h,handleSubmit:async()=>{if(w.value=!0,!L(b.email)||0===b.displayName.length||b.password.length<5||b.password!==b.cpassword)f.value="Make sure your email id is valid, Display Name is present, Password is more than 5 characters and Password and Confirm Password are same";else try{const{user:s}=await N(a,b.email,b.password);await q(s,{displayName:b.displayName}),await u.replace({name:"Profile"})}catch(s){f.value=s.message}w.value=!1},loading:w,error:f}));var v}},D={class:"t-auth-section"},$=w("h1",{class:"mb-6"},"注册",-1),_=w("hr",null,null,-1),I={class:"mb-4"},M={class:"block text-sm font-bold mb-2",for:"email"},Y=E(" 邮箱 "),z={class:"mt-0.5 text-error text-xs italic"},A={class:"mb-4"},B={class:"block text-sm font-bold mb-2",for:"name"},F=E(" 用户名 "),G={class:"mb-4"},H={class:"block text-sm font-bold mb-2",for:"password"},J=E(" 密码 "),K={class:"mb-4"},Q={class:"block text-sm font-bold mb-2",for:"cpassword"},R=E(" 确认密码 "),T={class:"mt-0.5 text-error text-xs italic"},W={class:"flex justify-between items-center"},X={type:"submit",class:"t-btn inline-flex items-center bg-primary"},Z=E(" 注册 "),aa={class:"mr-1"},sa=E(" 已经注册? "),ea=E(" 登录 "),ra={key:0,class:"mt-4 p-4 bg-error rounded"};var la=U(C,[["render",function(a,s,e,r,l,o){const t=u("font-awesome-icon"),i=u("Loading"),n=u("router-link");return S(),b("section",D,[w("form",{onSubmit:s[4]||(s[4]=O(((...a)=>r.handleSubmit&&r.handleSubmit(...a)),["prevent"])),class:"t-auth-form"},[$,_,w("div",I,[w("label",M,[f(t,{icon:["fas","envelope"],class:"mr-1"}),Y]),y(w("input",{class:v(`t-input ${!r.validEmail&&"border border-error"}`),type:"email",id:"email",placeholder:"Email","onUpdate:modelValue":s[0]||(s[0]=s=>a.email=s),required:""},null,2),[[h,a.email]]),y(w("p",z," 确认邮箱 ",512),[[g,!r.validEmail]])]),w("div",A,[w("label",B,[f(t,{icon:["fas","user-circle"],class:"mr-1"}),F]),y(w("input",{class:"t-input",type:"text",id:"name",placeholder:"Display Name","onUpdate:modelValue":s[1]||(s[1]=s=>a.displayName=s),required:""},null,512),[[h,a.displayName]])]),w("div",G,[w("label",H,[f(t,{icon:["fas","key"],class:"mr-1"}),J]),y(w("input",{class:"t-input",type:"password",id:"password",placeholder:"Password","onUpdate:modelValue":s[2]||(s[2]=s=>a.password=s),required:""},null,512),[[h,a.password]])]),w("div",K,[w("label",Q,[f(t,{icon:["fas","key"],class:"mr-1"}),R]),y(w("input",{class:v(`t-input ${!r.equalPassword&&"border border-error"}`),type:"password",id:"cpassword",placeholder:"Confirm Password","onUpdate:modelValue":s[3]||(s[3]=s=>a.cpassword=s)},null,2),[[h,a.cpassword]]),y(w("p",T," Password and Confirm Password doesn't match. ",512),[[g,!r.equalPassword]])]),w("div",W,[w("button",X,[r.loading?(S(),x(i,{key:0,class:"h-5 w-5"})):(S(),x(t,{key:1,icon:["fas","user-plus"],class:"mr-2"})),Z]),w("h5",aa,[sa,f(n,{to:{name:"Login"},class:"text-primary"},{default:P((()=>[ea])),_:1})])]),r.error.length>0?(S(),b("div",ra,k(r.error),1)):j("",!0)],32)])}]]);export{la as default};
