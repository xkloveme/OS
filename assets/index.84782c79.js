import{i as e,o as t,g as a,r as n,a as o,b as s,c as r,s as i,d as c,u as l,e as u,f as m,h as d,j as p,w as f,T as h,k as g,F as _,l as v,m as y,n as b,p as k,t as w,q as A,v as L,x as E,y as x,z as O,A as P,B as H,C as I,D,E as j,G as C,H as T,I as U,J as N,K as S,L as R}from"./vendor.9979cc4f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),e({apiKey:"AIzaSyB1uSE1rOAKYDnG14r4gEoFnwHJorhAhbk",authDomain:"hunshui-72c5c.firebaseapp.com",databaseURL:"https://databaseName.firebaseio.com",projectId:"hunshui-72c5c",storageBucket:"hunshui-72c5c.appspot.com",messagingSenderId:"445243691470",appId:"1:445243691470:web:f9a9a4c0fd57665b451b9f"});const V=()=>{const e=n(null),i=n(null),c=a();let l;o((()=>{l=t(c,(t=>e.value=t),(e=>i.value=e))})),s((()=>l()));const u=r((()=>null!=e.value));return{user:e,error:i,isAuthenticated:u}},q=async()=>{try{const e=a();await i(e)}catch(e){alert(e.message)}},M=()=>new Promise(((e,n)=>t(a(),e,n)));var F=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a};const z=c({name:"Menu",setup(){const{isAuthenticated:e}=V(),t=n(!1),a=()=>{t.value=!t.value},o=l();return{show:t,toggle:a,isAuthenticated:e,signOutUser:async()=>{a(),await q(),await o.replace({name:"Login"})},menuAuth:[{name:"Home",link:{name:"Home"}},{name:"Profile",link:{name:"Profile"}},{name:"Database",link:{name:"Database"}}],menuNoAuth:[{name:"Home",link:{name:"Home"}},{name:"Login",link:{name:"Login"}},{name:"Signup",link:{name:"SignUp"}}]}}}),B={class:"ml-3 relative"},K={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-md shadow-lg py-1 bg-gray-800 text-white font-heading",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1"};const $=c({components:{Menu:F(z,[["render",function(e,t,a,n,o,s){const r=u("font-awesome-icon"),i=u("router-link");return g(),m("div",B,[d("div",null,[d("button",{type:"button",class:"text-lg h-8 w-8 rounded-full hover:bg-primary","aria-expanded":"false","aria-haspopup":"true",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[p(r,{icon:["fas","bars"],class:""})])]),p(h,{name:"fade"},{default:f((()=>[e.show?(g(),m("div",K,[(g(!0),m(_,null,v(e.isAuthenticated?e.menuAuth:e.menuNoAuth,((t,a)=>(g(),b(i,{key:a,to:t.link,class:"block px-4 py-2 text-sm",onClick:e.toggle},{default:f((()=>[k(w(t.name),1)])),_:2},1032,["to","onClick"])))),128)),e.isAuthenticated?(g(),m("p",{key:0,class:"px-4 py-2 text-sm cursor-pointer text-error",onClick:t[1]||(t[1]=(...t)=>e.signOutUser&&e.signOutUser(...t))}," Logout ")):y("",!0)])):y("",!0)])),_:1})])}],["__scopeId","data-v-4a1dd6e8"]])},setup(){const{user:e}=V(),t=l();return{user:e,signOutUser:async()=>{await q(),await t.replace({name:"Login"})},goToHome:()=>{t.push({name:"Home"})}}}}),G={class:"t-transition-effect nav-style px-2 md:px-0"},J={class:"t-main-set flex justify-between items-center"},W=k(" 浑水 "),Y={key:0,class:"hidden md:block"},Q=k("首页 "),X={key:1,class:"hidden md:block"},Z=k("首页 "),ee=k(" 登录 "),te={class:"block md:hidden"};var ae=F($,[["render",function(e,t,a,n,o,s){const r=u("font-awesome-icon"),i=u("router-link"),c=u("Menu");return g(),m("nav",G,[d("div",J,[d("h1",{class:"font-bold text-primary cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.goToHome&&e.goToHome(...t))},[p(r,{icon:["fas","fish"],class:"mr-1"}),W]),e.user?(g(),m("div",Y,[p(i,{to:{name:"Home"},class:"nav-link t-transition-effect"},{default:f((()=>[Q])),_:1}),d("a",{class:"t-transition-effect py-2 px-4 ml-4 font-heading rounded cursor-pointer bg-error hover:bg-opacity-75",onClick:t[1]||(t[1]=(...t)=>e.signOutUser&&e.signOutUser(...t))},"登出 ")])):(g(),m("div",X,[p(i,{to:{name:"Home"},class:"nav-link t-transition-effect"},{default:f((()=>[Z])),_:1}),p(i,{to:{name:"Login"},class:"nav-link t-transition-effect"},{default:f((()=>[ee])),_:1})])),d("div",te,[p(c)])])])}],["__scopeId","data-v-3d3398d8"]]);const ne={},oe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"animate-spin -ml-1 mr-3"},se=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];var re=F(ne,[["render",function(e,t){return g(),m("svg",oe,se)}]]);const ie=c({name:"App",components:{Navbar:ae,Loading:re},setup(e){const t=n(!0);return M().then((()=>{t.value=!1})),{isLoading:t}}}),ce={key:0,class:"flex items-center justify-center",style:{height:"80vh"}},le={key:1},ue={class:"t-main-set"};var me=F(ie,[["render",function(e,t,a,n,o,s){const r=u("Loading"),i=u("Navbar"),c=u("router-view");return e.isLoading?(g(),m("div",ce,[p(r,{class:"h-16 w-16"})])):(g(),m("div",le,[p(i),d("div",ue,[p(c,null,{default:f((({Component:e,route:t})=>[p(h,{name:"slide",mode:"out-in"},{default:f((()=>[(g(),b(A(e),{key:t.path}))])),_:2},1024)])),_:1})])]))}],["__scopeId","data-v-3f15415a"]]);const de={},pe=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in de)return;de[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},fe=[{path:"/",name:"Home",component:()=>pe((()=>import("./Home.8edf9c9f.js")),["assets/Home.8edf9c9f.js","assets/Home.18253982.css","assets/vendor.9979cc4f.js"])},{path:"/profile",name:"Profile",component:()=>pe((()=>import("./Profile.a4f634ca.js")),["assets/Profile.a4f634ca.js","assets/vendor.9979cc4f.js","assets/Dialog.744bda12.js"]),meta:{requiresAuth:!0}},{path:"/auth/login",name:"Login",component:()=>pe((()=>import("./Login.b5700688.js")),["assets/Login.b5700688.js","assets/vendor.9979cc4f.js","assets/Dialog.744bda12.js","assets/isValidEmail.d4801c25.js"]),meta:{noAuth:!0}},{path:"/auth/signup",name:"SignUp",component:()=>pe((()=>import("./SignUp.97062539.js")),["assets/SignUp.97062539.js","assets/vendor.9979cc4f.js","assets/isValidEmail.d4801c25.js"]),meta:{noAuth:!0}},{path:"/auth/forgot-password",name:"ForgotPassword",component:()=>pe((()=>import("./ForgotPassword.c7cf22b1.js")),["assets/ForgotPassword.c7cf22b1.js","assets/vendor.9979cc4f.js","assets/Dialog.744bda12.js"]),meta:{noAuth:!0}},{path:"/database",name:"Database",component:()=>pe((()=>import("./Database.b7de4f85.js")),["assets/Database.b7de4f85.js","assets/vendor.9979cc4f.js"]),meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>pe((()=>import("./404.0ae56f81.js")),["assets/404.0ae56f81.js","assets/vendor.9979cc4f.js"])}],he=L({history:E("./"),routes:fe});he.beforeEach((async(e,t,a)=>{const n=e.matched.some((e=>e.meta.requiresAuth)),o=e.matched.some((e=>e.meta.noAuth)),s=await M();n&&!s?a({name:"Login"}):o&&s?a({name:"Home"}):a()}));x.add([O,P,H,I,D,j,C,T,U,N]),S(me).component("font-awesome-icon",R).use(he).mount("#app");export{re as L,F as _,q as a,V as u};
