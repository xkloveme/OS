import{i as e,o as t,g as n,r as a,a as s,b as o,c as r,s as i,d as c,u as l,e as m,f as u,h as d,j as p,w as h,T as f,k as _,F as g,l as w,m as v,n as y,p as b,t as k,q as E,v as A,x as L,y as T,z as x,A as O,B as I,C as P,D as j,E as q,G as D,H as R,I as V,J as H,K as C,L as N,M as U}from"./vendor.b196b113.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),e({apiKey:"AIzaSyB1uSE1rOAKYDnG14r4gEoFnwHJorhAhbk",authDomain:"hunshui-72c5c.firebaseapp.com",databaseURL:"https://databaseName.firebaseio.com",projectId:"hunshui-72c5c",storageBucket:"hunshui-72c5c.appspot.com",messagingSenderId:"445243691470",appId:"1:445243691470:web:f9a9a4c0fd57665b451b9f"});const M=()=>{const e=a(null),i=a(null),c=n();let l;s((()=>{l=t(c,(t=>e.value=t),(e=>i.value=e))})),o((()=>l()));const m=r((()=>null!=e.value));return{user:e,error:i,isAuthenticated:m}},S=async()=>{try{const e=n();await i(e)}catch(e){alert(e.message)}},F=()=>new Promise(((e,a)=>t(n(),e,a)));var z=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n};const B=c({name:"Menu",setup(){const{isAuthenticated:e}=M(),t=a(!1),n=()=>{t.value=!t.value},s=l();return{show:t,toggle:n,isAuthenticated:e,signOutUser:async()=>{n(),await S(),await s.replace({name:"Login"})},menuAuth:[{name:"首页",link:{name:"Home"}},{name:"摸鱼",link:{name:"windows"}}],menuNoAuth:[{name:"首页",link:{name:"Home"}},{name:"摸鱼",link:{name:"windows"}}]}}}),K={class:"ml-3 relative"},$={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-md shadow-lg py-1 bg-gray-800 text-white font-heading",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1"};const G=c({components:{Menu:z(B,[["render",function(e,t,n,a,s,o){const r=m("font-awesome-icon"),i=m("router-link");return _(),u("div",K,[d("div",null,[d("button",{type:"button",class:"text-lg h-8 w-8 rounded-full hover:bg-primary","aria-expanded":"false","aria-haspopup":"true",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[p(r,{icon:["fas","bars"],class:""})])]),p(f,{name:"fade"},{default:h((()=>[e.show?(_(),u("div",$,[(_(!0),u(g,null,w(e.isAuthenticated?e.menuAuth:e.menuNoAuth,((t,n)=>(_(),y(i,{key:n,to:t.link,class:"block px-4 py-2 text-sm",onClick:e.toggle},{default:h((()=>[b(k(t.name),1)])),_:2},1032,["to","onClick"])))),128)),e.isAuthenticated?(_(),u("p",{key:0,class:"px-4 py-2 text-sm cursor-pointer text-error",onClick:t[1]||(t[1]=(...t)=>e.signOutUser&&e.signOutUser(...t))}," 登出 ")):v("",!0)])):v("",!0)])),_:1})])}],["__scopeId","data-v-26d49a4f"]])},setup(){const{user:e}=M(),t=l();return{user:e,signOutUser:async()=>{await S(),await t.replace({name:"Login"})},goToHome:()=>{t.push({name:"Home"})}}}}),J={class:"t-transition-effect nav-style px-2 md:px-0"},W={class:"t-main-set flex justify-between items-center"},Y=b(" 浑水 "),Q={class:"hidden md:block"},X=b("首页 "),Z=b(" 摸鱼 "),ee=b(" 登录 "),te={href:"https://github.com/xkloveme/os",target:"_blank",class:"t-transition-effect ml-4"},ne={class:"block md:hidden"};var ae=z(G,[["render",function(e,t,n,a,s,o){const r=m("font-awesome-icon"),i=m("router-link"),c=m("Menu");return _(),u("nav",J,[d("div",W,[d("h1",{class:"font-bold text-primary cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.goToHome&&e.goToHome(...t))},[p(r,{icon:["fas","fish"],class:"mr-1"}),Y]),d("div",Q,[p(i,{to:{name:"Home"},class:"nav-link t-transition-effect"},{default:h((()=>[X])),_:1}),p(i,{to:{name:"windows"},class:"nav-link t-transition-effect"},{default:h((()=>[Z])),_:1}),e.user?(_(),u("a",{key:0,class:"t-transition-effect py-2 px-4 ml-4 font-heading rounded cursor-pointer bg-error hover:bg-opacity-75",onClick:t[1]||(t[1]=(...t)=>e.signOutUser&&e.signOutUser(...t))},"登出 ")):(_(),y(i,{key:1,to:{name:"Login"},class:"nav-link t-transition-effect"},{default:h((()=>[ee])),_:1})),d("a",te,[p(r,{icon:["fab","github"],class:"mr-2 font-20"})])]),d("div",ne,[p(c)])])])}],["__scopeId","data-v-5a539d23"]]);const se={},oe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"animate-spin -ml-1 mr-3"},re=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];var ie=z(se,[["render",function(e,t){return _(),u("svg",oe,re)}]]);const ce=c({name:"App",components:{Navbar:ae,Loading:ie},setup(e){const t=a(!0);return F().then((()=>{t.value=!1})),{isLoading:t}}}),le={key:0,class:"flex items-center justify-center",style:{height:"80vh"}},me={key:1};var ue=z(ce,[["render",function(e,t,n,a,s,o){const r=m("Loading"),i=m("Navbar"),c=m("router-view");return e.isLoading?(_(),u("div",le,[p(r,{class:"h-16 w-16"})])):(_(),u("div",me,[d("div",null,[p(c,null,{default:h((({Component:e,route:t})=>{var n;return[(null==(n=null==t?void 0:t.meta)?void 0:n.requiresTitle)?(_(),y(i,{key:0})):v("",!0),p(f,{name:"slide",mode:"out-in"},{default:h((()=>[(_(),y(E(e),{key:t.path}))])),_:2},1024)]})),_:1})])]))}],["__scopeId","data-v-50ce0e82"]]);const de={},pe=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in de)return;de[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},he=[{path:"/",name:"Home",component:()=>pe((()=>import("./Home.68a1d774.js")),["assets/Home.68a1d774.js","assets/Home.62e0f471.css","assets/vendor.b196b113.js"]),meta:{requiresTitle:!0}},{path:"/windows",name:"windows",component:()=>pe((()=>import("./windows.c4fa714a.js")),["assets/windows.c4fa714a.js","assets/dom.esm.095b2645.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!0}},{path:"/winxp",name:"winxp",component:()=>pe((()=>import("./winxp.41e21589.js")),["assets/winxp.41e21589.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/win7",name:"win7",component:()=>pe((()=>import("./win7.1ffc16ec.js")),["assets/win7.1ffc16ec.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/vista",name:"vista",component:()=>pe((()=>import("./vista.abbf3dee.js")),["assets/vista.abbf3dee.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/win8",name:"win8",component:()=>pe((()=>import("./win8.df1d759c.js")),["assets/win8.df1d759c.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/win11",name:"win11",component:()=>pe((()=>import("./win11.0a3c8fe7.js")),["assets/win11.0a3c8fe7.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/macos",name:"macos",component:()=>pe((()=>import("./macos.ecc2c25f.js")),["assets/macos.ecc2c25f.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/auth/login",name:"Login",component:()=>pe((()=>import("./Login.321dfb7c.js")),["assets/Login.321dfb7c.js","assets/vendor.b196b113.js","assets/Dialog.c47bc46c.js","assets/dom.esm.095b2645.js","assets/isValidEmail.d4801c25.js"]),meta:{noAuth:!0,requiresTitle:!0}},{path:"/auth/signup",name:"SignUp",component:()=>pe((()=>import("./SignUp.27059425.js")),["assets/SignUp.27059425.js","assets/vendor.b196b113.js","assets/isValidEmail.d4801c25.js"]),meta:{noAuth:!0,requiresTitle:!0}},{path:"/auth/forgot-password",name:"ForgotPassword",component:()=>pe((()=>import("./ForgotPassword.883fed1b.js")),["assets/ForgotPassword.883fed1b.js","assets/vendor.b196b113.js","assets/Dialog.c47bc46c.js","assets/dom.esm.095b2645.js"]),meta:{noAuth:!0,requiresTitle:!0}},{path:"/database",name:"Database",component:()=>pe((()=>import("./Database.73893df2.js")),["assets/Database.73893df2.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!1}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>pe((()=>import("./404.aa70bf1c.js")),["assets/404.aa70bf1c.js","assets/vendor.b196b113.js"]),meta:{requiresTitle:!0}}],fe=A({history:L("./"),routes:he});fe.beforeEach((async(e,t,n)=>{const a=e.matched.some((e=>e.meta.notRequiresTitle)),s=e.matched.some((e=>e.meta.noAuth)),o=await F();a&&!o?n({name:"Login"}):s&&o?n({name:"Home"}):n()}));T.add([x,O,I,P,j,q,D,R,V,H,C]),N(ue).component("font-awesome-icon",U).use(fe).mount("#app");export{ie as L,z as _};
