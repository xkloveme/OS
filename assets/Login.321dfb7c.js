import{g as a,u as s,r as e,e as t,f as l,h as o,j as r,n,w as i,t as m,m as c,V as d,W as u,X as p,Y as b,p as f,k as g}from"./vendor.b196b113.js";import{_ as v,L as h}from"./index.1abc36b5.js";import{D as w}from"./Dialog.c47bc46c.js";import{i as y}from"./isValidEmail.d4801c25.js";import"./dom.esm.095b2645.js";const x={components:{Loading:h,Dialog:w},setup(){const t=a(),l=s(),o=e(!1),r=e("");return{handleSubmit:async a=>{o.value=!0;const{email:s,password:e}=a.target.elements;if(s.value.length>0&&e.value.length>0&&y(s.value))try{await u(t,s.value,e.value),await l.replace({name:"Home"})}catch(n){r.value=n.message}else r.value="Enter valid Email Id and Password";o.value=!1},googleSignUp:async()=>{const s=new p,e=a();try{const a=await b(e,s);p.credentialFromResult(a),l.replace({name:"Home"})}catch(t){r.value=t.message}},error:r,loading:o}}},k={class:"t-auth-section"},j=o("h1",{class:"mb-6"},"登录",-1),S=o("hr",null,null,-1),E={class:"mb-4"},D={class:"block text-sm font-bold mb-2",for:"email"},L=f(" 邮箱 "),P=o("input",{class:"t-input",type:"text",id:"email",placeholder:"Email"},null,-1),_={class:"mb-4"},F={class:"block text-sm font-bold mb-2",for:"password"},H=f(" 密码 "),U=o("input",{class:"t-input",type:"password",id:"password",placeholder:"Password"},null,-1),V={class:"flex justify-between items-center"},I={type:"submit",class:"t-btn inline-flex items-center bg-primary"},R=f(" 登录 "),W={class:"mr-1"},X=f(" 没有账号? "),Y=f("注册 "),q={class:"mt-5 text-error"},z=f("忘记密码? "),A={key:0,class:"mt-4 p-4 bg-error rounded"};var B=v(x,[["render",function(a,s,e,u,p,b){const f=t("font-awesome-icon"),v=t("Loading"),h=t("router-link");return g(),l("section",k,[o("form",{onSubmit:s[0]||(s[0]=d(((...a)=>u.handleSubmit&&u.handleSubmit(...a)),["prevent"])),class:"t-auth-form"},[j,S,o("div",E,[o("label",D,[r(f,{icon:["fas","envelope"],class:"mr-1"}),L]),P]),o("div",_,[o("label",F,[r(f,{icon:["fas","key"],class:"mr-1"}),H]),U]),o("div",V,[o("button",I,[u.loading?(g(),n(v,{key:0,class:"h-5 w-5"})):(g(),n(f,{key:1,icon:["fas","sign-in-alt"],class:"mr-2"})),R]),o("h5",W,[X,r(h,{to:{name:"SignUp"},class:"text-primary"},{default:i((()=>[Y])),_:1})])]),o("h5",q,[r(h,{to:{name:"ForgotPassword"}},{default:i((()=>[z])),_:1})]),u.error.length>0?(g(),l("div",A,m(u.error),1)):c("",!0)],32)])}]]);export{B as default};
