import{i as e,o as t,g as n,r as a,a as s,b as o,c as i,s as r,d as c,u as l,e as m,f as u,h as d,j as p,w as f,T as h,k as _,F as g,l as w,m as b,n as v,p as y,t as k,q as E,v as A,x as T,y as L,z as x,A as O,B as I,C as P,D as j,E as q,G as D,H as R,I as V,J as H,K as C,L as N,M as U}from"./vendor.08bd9b48.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),e({apiKey:"AIzaSyB1uSE1rOAKYDnG14r4gEoFnwHJorhAhbk",authDomain:"hunshui-72c5c.firebaseapp.com",databaseURL:"https://databaseName.firebaseio.com",projectId:"hunshui-72c5c",storageBucket:"hunshui-72c5c.appspot.com",messagingSenderId:"445243691470",appId:"1:445243691470:web:f9a9a4c0fd57665b451b9f"});const M=()=>{const e=a(null),r=a(null),c=n();let l;s((()=>{l=t(c,(t=>e.value=t),(e=>r.value=e))})),o((()=>l()));const m=i((()=>null!=e.value));return{user:e,error:r,isAuthenticated:m}},S=async()=>{try{const e=n();await r(e)}catch(e){alert(e.message)}},B=()=>new Promise(((e,a)=>t(n(),e,a)));var F=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n};const z=c({name:"Menu",setup(){const{isAuthenticated:e}=M(),t=a(!1),n=()=>{t.value=!t.value},s=l();return{show:t,toggle:n,isAuthenticated:e,signOutUser:async()=>{n(),await S(),await s.replace({name:"Login"})},menuAuth:[{name:"首页",link:{name:"Home"}},{name:"摸鱼",link:{name:"windows"}}],menuNoAuth:[{name:"首页",link:{name:"Home"}},{name:"摸鱼",link:{name:"windows"}}]}}}),K={class:"ml-3 relative"},$={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-md shadow-lg py-1 bg-gray-800 text-white font-heading",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1"};const G=c({components:{Menu:F(z,[["render",function(e,t,n,a,s,o){const i=m("font-awesome-icon"),r=m("router-link");return _(),u("div",K,[d("div",null,[d("button",{type:"button",class:"text-lg h-8 w-8 rounded-full hover:bg-primary","aria-expanded":"false","aria-haspopup":"true",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[p(i,{icon:["fas","bars"],class:""})])]),p(h,{name:"fade"},{default:f((()=>[e.show?(_(),u("div",$,[(_(!0),u(g,null,w(e.isAuthenticated?e.menuAuth:e.menuNoAuth,((t,n)=>(_(),v(r,{key:n,to:t.link,class:"block px-4 py-2 text-sm",onClick:e.toggle},{default:f((()=>[y(k(t.name),1)])),_:2},1032,["to","onClick"])))),128)),e.isAuthenticated?(_(),u("p",{key:0,class:"px-4 py-2 text-sm cursor-pointer text-error",onClick:t[1]||(t[1]=(...t)=>e.signOutUser&&e.signOutUser(...t))}," 登出 ")):b("",!0)])):b("",!0)])),_:1})])}],["__scopeId","data-v-26d49a4f"]])},setup(){const{user:e}=M(),t=l();return{user:e,signOutUser:async()=>{await S(),await t.replace({name:"Login"})},goToHome:()=>{t.push({name:"Home"})}}}}),J={class:"t-transition-effect nav-style px-2 md:px-0"},W={class:"t-main-set flex justify-between items-center"},Y=y(" 浑水 "),Q={class:"hidden md:block"},X=y("首页 "),Z=y(" 全屏色 "),ee=y(" 摸鱼 "),te=y(" 登录 "),ne={href:"https://github.com/xkloveme/os",target:"_blank",class:"t-transition-effect ml-4"},ae={class:"block md:hidden"};var se=F(G,[["render",function(e,t,n,a,s,o){const i=m("font-awesome-icon"),r=m("router-link"),c=m("Menu");return _(),u("nav",J,[d("div",W,[d("h1",{class:"font-bold text-primary cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.goToHome&&e.goToHome(...t))},[p(i,{icon:["fas","fish"],class:"mr-1"}),Y]),d("div",Q,[p(r,{to:{name:"Home"},class:"nav-link t-transition-effect"},{default:f((()=>[X])),_:1}),p(r,{to:{name:"Black"},class:"nav-link t-transition-effect"},{default:f((()=>[Z])),_:1}),p(r,{to:{name:"windows"},class:"nav-link t-transition-effect"},{default:f((()=>[ee])),_:1}),e.user?(_(),u("a",{key:0,class:"t-transition-effect py-2 px-4 ml-4 font-heading rounded cursor-pointer bg-error hover:bg-opacity-75",onClick:t[1]||(t[1]=(...t)=>e.signOutUser&&e.signOutUser(...t))},"登出 ")):(_(),v(r,{key:1,to:{name:"Login"},class:"nav-link t-transition-effect"},{default:f((()=>[te])),_:1})),d("a",ne,[p(i,{icon:["fab","github"],class:"mr-2 font-20"})])]),d("div",ae,[p(c)])])])}],["__scopeId","data-v-761ca4f8"]]);const oe={},ie={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"animate-spin -ml-1 mr-3"},re=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];var ce=F(oe,[["render",function(e,t){return _(),u("svg",ie,re)}]]);const le=c({name:"App",components:{Navbar:se,Loading:ce},setup(e){const t=a(!0);return B().then((()=>{t.value=!1})),{isLoading:t}}}),me={key:0,class:"flex items-center justify-center",style:{height:"80vh"}},ue={key:1};var de=F(le,[["render",function(e,t,n,a,s,o){const i=m("Loading"),r=m("Navbar"),c=m("router-view");return e.isLoading?(_(),u("div",me,[p(i,{class:"h-16 w-16"})])):(_(),u("div",ue,[d("div",null,[p(c,null,{default:f((({Component:e,route:t})=>{var n;return[(null==(n=null==t?void 0:t.meta)?void 0:n.requiresTitle)?(_(),v(r,{key:0})):b("",!0),p(h,{name:"slide",mode:"out-in"},{default:f((()=>[(_(),v(E(e),{key:t.path}))])),_:2},1024)]})),_:1})])]))}],["__scopeId","data-v-50ce0e82"]]);const pe={},fe=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in pe)return;pe[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},he=[{path:"/",name:"Home",component:()=>fe((()=>import("./Home.07c1e242.js")),["assets/Home.07c1e242.js","assets/Home.62e0f471.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!0}},{path:"/black",name:"Black",component:()=>fe((()=>import("./black.2bf9b9fc.js")),["assets/black.2bf9b9fc.js","assets/black.7e16708b.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!0}},{path:"/windows",name:"windows",component:()=>fe((()=>import("./windows.3b8f3b9b.js")),["assets/windows.3b8f3b9b.js","assets/vendor.08bd9b48.js","assets/dom.esm.ad77543f.js"]),meta:{requiresTitle:!0}},{path:"/winxp",name:"winxp",component:()=>fe((()=>import("./winxp.b136df4e.js")),["assets/winxp.b136df4e.js","assets/winxp.3dc2c649.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/win7",name:"win7",component:()=>fe((()=>import("./win7.4af09304.js")),["assets/win7.4af09304.js","assets/win7.36e5ebed.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/vista",name:"vista",component:()=>fe((()=>import("./vista.cb8ec373.js")),["assets/vista.cb8ec373.js","assets/vista.be4b9a24.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/win8",name:"win8",component:()=>fe((()=>import("./win8.1e48c87b.js")),["assets/win8.1e48c87b.js","assets/win8.18a55031.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/win11",name:"win11",component:()=>fe((()=>import("./win11.218341be.js")),["assets/win11.218341be.js","assets/win11.5ec3ae98.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/macos",name:"macos",component:()=>fe((()=>import("./macos.b46e2cc7.js")),["assets/macos.b46e2cc7.js","assets/macos.12988ddd.css","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/auth/login",name:"Login",component:()=>fe((()=>import("./Login.f9a4a3f7.js")),["assets/Login.f9a4a3f7.js","assets/vendor.08bd9b48.js","assets/Dialog.68a6af4b.js","assets/dom.esm.ad77543f.js","assets/isValidEmail.d4801c25.js"]),meta:{noAuth:!0,requiresTitle:!0}},{path:"/auth/signup",name:"SignUp",component:()=>fe((()=>import("./SignUp.f6d32bec.js")),["assets/SignUp.f6d32bec.js","assets/vendor.08bd9b48.js","assets/isValidEmail.d4801c25.js"]),meta:{noAuth:!0,requiresTitle:!0}},{path:"/auth/forgot-password",name:"ForgotPassword",component:()=>fe((()=>import("./ForgotPassword.df9b1aaa.js")),["assets/ForgotPassword.df9b1aaa.js","assets/vendor.08bd9b48.js","assets/Dialog.68a6af4b.js","assets/dom.esm.ad77543f.js"]),meta:{noAuth:!0,requiresTitle:!0}},{path:"/database",name:"Database",component:()=>fe((()=>import("./Database.a6c11cf7.js")),["assets/Database.a6c11cf7.js","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!1}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>fe((()=>import("./404.6d344fe8.js")),["assets/404.6d344fe8.js","assets/vendor.08bd9b48.js"]),meta:{requiresTitle:!0}}],_e=A({history:T("./"),routes:he});_e.beforeEach((async(e,t,n)=>{const a=e.matched.some((e=>e.meta.notRequiresTitle)),s=e.matched.some((e=>e.meta.noAuth)),o=await B();a&&!o?n({name:"Login"}):s&&o?n({name:"Home"}):n()}));L.add([x,O,I,P,j,q,D,R,V,H,C]),N(de).component("font-awesome-icon",U).use(_e).mount("#app");export{ce as L,F as _};
